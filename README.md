# qmx-birdie-scanner

**qmx-birdie-scanner** is an experimental Python project designed to detect *birdies* in **QMX** and **QMX+** transmitters manufactured by [QRP Labs](https://qrp-labs.com/). The project consists of two scripts: one for capturing audio FFT data and another for analyzing it to identify narrowband energy peaks.

## Scripts

### `fft_collector.py`

This script performs a frequency scan over the transmitter, controlled via CAT over a serial port. For each frequency step, it records the audio output and computes an FFT, storing the results in an HDF5 (`.h5`) file for later analysis.

#### Usage:

```bash
usage: fft_collector.py [-h] [--serial-port SERIAL_PORT] start_freq end_freq output_file

QMX FFT Frequency Scanner

positional arguments:
  start_freq              Start frequency in Hz
  end_freq                End frequency in Hz
  output_file             Output H5 filename

options:
  -h, --help              Show this help message and exit
  --serial-port SERIAL_PORT
                          Serial port for CAT control (default: /dev/ttyACM0)
```

#### Example – Scan the 20-meter amateur band:

```bash
python3 fft_collector.py --serial-port /dev/ttyACM0 14000000 14350000 scan_20m.h5
```

This will scan from **14.000 MHz to 14.350 MHz** and store the FFT results in `scan_20m.h5`.

---

### `birdie_detector.py`

This script analyzes the `.h5` file generated by `fft_collector.py`. It scans each FFT to detect *birdies* by identifying narrowband energy peaks that exceed the noise floor. Optionally, it can generate plots for visual inspection.

#### Usage:

```bash
usage: birdie_detector.py [-h] [--output-dir OUTPUT_DIR] [--fft-plot] h5_file

QMX Birdie Detection Analysis

positional arguments:
  h5_file                 Input H5 file with FFT data to analyze

options:
  -h, --help              Show this help message and exit
  --output-dir OUTPUT_DIR
                          Output directory for FFT plots (default: current directory)
  --fft-plot              Generate plots for ALL FFTs (WARNING: debugging only, creates many files)
```

#### Example – Analyze the 20-meter scan:

```bash
python3 birdie_detector.py --output-dir plots scan_20m.h5
```

This will analyze `scan_20m.h5` and generate FFT plots for any detected birdies inside the `plots/` directory.

---

## Requirements

* Python 3.7+
* Python packages: `numpy`, `matplotlib`, `h5py`, `scipy`, `sounddevice`, `argparse`

## Status

This is an experimental project 

## License

MIT


